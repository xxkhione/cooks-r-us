@using CooksRUs.Shared

@page "/search"

<PageTitle>Search</PageTitle>

<header>
    <h1>🔍 Search Recipes</h1>
</header>

<input id="search-bar" class="search-input" @bind="query" placeholder="Search recipes..."/>
<button id="search-btn" @onclick="SearchRecipes">Search 😋</button>

@if(SearchResults.Count == 0)
{
    <p>No results yet — try searching something!</p>
}
else
{
    <div class="container">
        @foreach(var r in SearchResults)
        {
            <RecipeCard Title="@r.Title" Description="@r.Description" ImageURL="@r.Image"
                        ShowSaveButton="true" OnSave="() => SaveRecipe(r)" />
        }
    </div>
}

@code {
    string query = "";
    List<Recipe> SearchResults = new();

    async Task SearchRecipes() {
        // backend teammate will hook API call here
        // SearchResults = await RecipeService.Search(query);
    }

    void SaveRecipe(Recipe r){
        // backend saves to user profile
    }

    class Recipe{
        public string? Title { get; set; }
        public string? Description { get; set; }
        public string? Image { get; set; }
    }
}
